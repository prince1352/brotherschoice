<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Homepage</title>
  <link rel="stylesheet" href="/brotherschoice/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
  
</head>
<body>

  <!-- Header -->
  <header class="main-header">
    <a href="/brotherschoice/" class="logo-link">
      <img src="/brotherschoice/images/Logo.png" alt="Company Logo" class="logo" />
    </a>

  <!-- Desktop Navigation (hidden on mobile) -->
<nav class="main-nav desktop-nav">
  <ul>
    <li class="menu-item"><a href="/brotherschoice/">Home</a></li>
    <li class="menu-item"><a href="/brotherschoice/About/">About Us</a></li>
    <li class="menu-item"><a href="/brotherschoice/Products/">Products</a></li>
    <li class="menu-item"><a href="/brotherschoice/Customers/">Our Customers</a></li>
    <li class="menu-item"><a href="/brotherschoice/Contact/">Contact Us</a></li>
  </ul>
</nav>

    <!-- Hamburger Icon (only visible on mobile) -->
<button class="hamburger" id="hamburger" aria-label="Toggle menu">
  <span></span>
  <span></span>
  <span></span>
</button>

  <!-- Mobile Dropdown Menu -->
<!-- Mobile Side Menu -->
<div class="mobile-menu" id="mobileMenu">
  <a href="/brotherschoice/">Home</a>
  <a href="/brotherschoice/About/">About Us</a>
  <a href="/brotherschoice/Products/">Products</a>
  <a href="/brotherschoice/Customers/">Our Customers</a>
  <a href="/brotherschoice/Contact/">Contact Us</a>
</div>


    <div class="quote-button-wrapper">
      <a href="/brotherschoice/Contact/" class="quote-button">Get a Free Quote</a>
    </div>
  </header>

<!-- Products Section -->
<section class="products-section">
  <div class="products-container">
    <!-- Sidebar Filters -->
    <aside class="filter-sidebar">
      <h2 class="filter-title">Search & Filter</h2>
      
      <div class="filter-group">
        <label for="searchInput">Search Products</label>
        <input type="text" id="searchInput" placeholder="Type product name..." />
      </div>

      <div class="filter-group">
        <label>Categories</label>
        <div id="categoryFilters" class="category-checkboxes">
          <!-- JS will dynamically populate checkboxes -->
        </div>
      </div>
    </aside>

    <!-- Product Display -->
    <div class="products-content">
      <div id="productsLoader" class="swiper-loader">
        <div class="swiper-spinner"></div>
      </div>

      <div id="productsGrid" class="products-grid" style="display: none;">
        <!-- JS will populate product cards here -->
      </div>
    </div>
  </div>
</section>


  <!-- Footer -->
  <footer class="site-footer">
  <div class="footer-content">
    <p>&copy; 2025 Brothers Choice Foods. All rights reserved.</p>
  </div>
</footer>

<!--  Script Mobile Menu -->
  
<script>
  const hamburger = document.getElementById('hamburger');
  const mobileMenu = document.getElementById('mobileMenu');
  const mobileLinks = mobileMenu.querySelectorAll('a');

  hamburger.addEventListener('click', () => {
    mobileMenu.classList.toggle('open');
  });

  mobileLinks.forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.remove('open');
    });
  });
</script>

  <!--  Script Products Section -->

<script>
const productsGrid = document.getElementById("productsGrid");
const productsLoader = document.getElementById("productsLoader");
const searchInput = document.getElementById("searchInput");
const categoryFilters = document.getElementById("categoryFilters");

let allProducts = [];
let selectedCategories = new Set();

// Fetch products from your Apps Script
fetch("https://script.google.com/macros/s/AKfycbz6nbkZih_ZDy3WS1GjdFdXMfuKaJf1u_umX7UONYEavNdDqtqOqrflesQbRuOfO2FW/exec")
  .then(res => res.json())
  .then(data => {
    allProducts = data;
    displayProducts(allProducts);
    populateCategories(allProducts);
    productsLoader.style.display = "none";
    productsGrid.style.display = "grid";
  })
  .catch(err => {
    console.error("Failed to load products:", err);
    productsLoader.innerHTML = "<p>Failed to load products.</p>";
  });

// Filter products by name and selected categories
function filterProducts() {
  const searchTerm = searchInput.value.toLowerCase();

  const filtered = allProducts.filter(product => {
    const matchesSearch = product["Product Name"].toLowerCase().includes(searchTerm);
    const matchesCategory = selectedCategories.size === 0 || selectedCategories.has(product["Product Category"]);
    return matchesSearch && matchesCategory;
  });

  displayProducts(filtered);
}

// Dynamically render product cards
function displayProducts(products) {
  productsGrid.innerHTML = "";

  products.forEach(product => {
    const card = document.createElement("div");
    card.className = "product-card";
    card.innerHTML = `
      <img src="${product["Image URL"]}" alt="${product["Alt Text"] || product["Product Name"]}" loading="lazy" />
      <div class="product-info">
        <h3>${product["Product Name"]}</h3>
      </div>
    `;
    productsGrid.appendChild(card);
  });
}

// Dynamically render category checkboxes
function populateCategories(products) {
  const categories = Array.from(new Set(products.map(p => p["Product Category"]))).sort();

  categories.forEach(category => {
    const label = document.createElement("label");
    label.className = "checkbox-label";
    label.innerHTML = `
      <input type="checkbox" value="${category}" />
      <span>${category}</span>
    `;
    categoryFilters.appendChild(label);
  });

  // Add event listener to all checkboxes
  categoryFilters.querySelectorAll("input[type='checkbox']").forEach(checkbox => {
    checkbox.addEventListener("change", () => {
      if (checkbox.checked) {
        selectedCategories.add(checkbox.value);
      } else {
        selectedCategories.delete(checkbox.value);
      }
      filterProducts();
    });
  });
}

// Search input filter
searchInput.addEventListener("input", filterProducts);
</script>



