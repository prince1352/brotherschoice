<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Homepage</title>
  <link rel="stylesheet" href="/brotherschoice/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
  
</head>
<body>

  <!-- Header -->
  <header class="main-header">
    <a href="/brotherschoice/" class="logo-link">
      <img src="/brotherschoice/images/Logo-W.png" alt="Company Logo" class="logo" />
    </a>

  <!-- Desktop Navigation (hidden on mobile) -->
<nav class="main-nav desktop-nav">
  <ul>
    <li class="menu-item"><a href="/brotherschoice/">Home</a></li>
    <li class="menu-item"><a href="/brotherschoice/About/">About Us</a></li>
    <li class="menu-item"><a href="/brotherschoice/Products/">Products</a></li>
    <li class="menu-item"><a href="/brotherschoice/Customers/">Our Customers</a></li>
    <li class="menu-item"><a href="/brotherschoice/Contact/">Contact Us</a></li>
  </ul>
</nav>

    <div class="quote-button-wrapper">
      <a href="/brotherschoice/Contact/" class="quote-button">Get a Free Quote</a>
    </div>
  </header>

<!-- PRODUCTS PAGE -->
<section class="product-top-section">
  <div class="product-top-content">
    <h1 class="product-page-title">Brothers Choice</h1>
    <p class="product-page-description">
      Explore a selection of our top products below. For our full catalog or specific inquiries, feel free to contact us directly.
    </p>

    <!-- Categories (with default "All") -->
    <div id="categoryButtons" class="category-button-group">
      <!-- Buttons will be injected via JavaScript -->
    </div>
    <div class="category-spacer"></div>
  </div>
</section>

<!-- Product Grid Section -->
<section class="product-main-section">
  <div id="productLoader" class="swiper-loader">
    <div class="spinner"></div>
  </div>

  <div id="productGrid" class="product-grid"></div>
</section>

  <!-- Pop-Up-Card -->
  <div id="productModal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <img id="modalImage" src="" alt="Product" />
  </div>
</div>

  <!-- Footer -->
  <footer class="site-footer">
  <div class="footer-content">
    <p>&copy; 2025 Brothers Choice Foods. All rights reserved.</p>
  </div>
</footer>


  <!--  Script Products Section -->

<script>
  const productsURL = "https://script.google.com/macros/s/AKfycbz6nbkZih_ZDy3WS1GjdFdXMfuKaJf1u_umX7UONYEavNdDqtqOqrflesQbRuOfO2FW/exec";
  let allProducts = [];
  let activeCategory = "All";

  // Fetch products on load
  fetch(productsURL)
    .then(res => res.json())
    .then(data => {
      allProducts = [...data].sort((a, b) => a["Product Name"].localeCompare(b["Product Name"]));
      renderCategories(allProducts);
      renderProducts(allProducts);
      document.getElementById('productLoader').style.display = 'none';
    });

  // Render category buttons
  function renderCategories(products) {
    const categorySet = new Set(products.map(p => p["Product Category"]).filter(Boolean));
    const sortedCategories = [...categorySet].sort();
    const container = document.getElementById("categoryButtons");

    // Create "All" button first
    const allBtn = document.createElement("button");
    allBtn.className = "category-btn active";
    allBtn.textContent = "All";
    allBtn.addEventListener("click", () => handleCategoryClick("All"));
    container.appendChild(allBtn);

    // Other dynamic category buttons
    sortedCategories.forEach(cat => {
      const btn = document.createElement("button");
      btn.className = "category-btn";
      btn.textContent = cat;
      btn.addEventListener("click", () => handleCategoryClick(cat));
      container.appendChild(btn);
    });
  }

  // Handle category click
  function handleCategoryClick(category) {
    activeCategory = category;

    // Toggle active styles
    const buttons = document.querySelectorAll(".category-btn");
    buttons.forEach(btn => {
      if (btn.textContent === category) {
        btn.classList.add("active");
      } else {
        btn.classList.remove("active");
      }
    });

    const filtered = category === "All"
      ? allProducts
      : allProducts.filter(p => p["Product Category"] === category);

    renderProducts(filtered);
  }

  // Render product grid
  function renderProducts(products) {
    const grid = document.getElementById("productGrid");
    grid.innerHTML = "";

    products.forEach(product => {
      const wrapper = document.createElement("div");
      wrapper.className = "product-wrapper";

      const card = document.createElement("div");
      card.className = "product-card";
      card.innerHTML = `
        <img src="${product["Image URL"]}" alt="${product["Alt Text"]}" loading="lazy">
      `;

      const name = document.createElement("p");
      name.className = "product-name";
      name.textContent = product["Product Name"];

      wrapper.appendChild(card);
      wrapper.appendChild(name);
      grid.appendChild(wrapper);
    });
  }
</script>

  <!--  Script Product Image Pop-up -->

  <script>
document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("productModal");
  const modalImg = document.getElementById("modalImage");
  const closeBtn = document.querySelector(".close-btn");

  document.addEventListener("click", function (e) {
    const img = e.target.closest(".product-card img");
    if (img) {
      modalImg.src = img.src;
      modal.style.display = "flex";
      document.body.style.overflow = "hidden";
    }
  });

  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
    document.body.style.overflow = "auto";
  });

  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.style.display = "none";
      document.body.style.overflow = "auto";
    }
  });
});
</script>

</body>
</html>



